# 20.3.02 Lesson: Searching and Replacing
```
20.3.02 Lesson: Searching and Replacing Values
```


**Things to focus on:**

- Explain what **immutability** means  
- Use the **`.replace()`** method to change parts of a string.  
- Use **if** and **while loops** to replace single and multiple items in text.  
- Apply `.replace()` to edit text from files or user input.  

> [!NOTE]
> ## INFODUMP:
> In JavaScript, **strings are immutable**.  
> That means once a string is created, **you can’t change it directly** like you do with lists.
> 
> When you use `.replace()`, JavaScript doesn’t *edit* the original string it makes a **new one** with your changes.
> 
> * You need **store the changed string into a NEW variable**.
 
```javascript
let word = "dog";
let newWord = word.replace("d", "l");
print(newWord); // "log"
print(word);    // "dog" (the original is NOT changed!)
```


---

## Step 1: Replace Once with an `if()` Statement

Sometimes, you only want to replace something **once** in the text.
This technique will find the first example of the word and replace only that one.

```javascript
function setup() {
  noCanvas();

  let sentence = "I have a cat.";
  let newSentence = "";

  // Check if the word "cat" is found
  if (sentence.includes("cat")) { 
    newSentence = sentence.replace("cat", "dog");
  }

  print(sentence);     // "I have a cat."
  print(newSentence);  // "I have a dog."
}
```

* `.includes()` checks for at least one match. (think back to unit 1)
* `.replace()` does the swap **once**, from **left to right**.

---

## Step 2: What About Multiple Instances of a Word?

The `.replace()` method only replaces **the first match** it finds.
Because `.replace()` only changes **one occurrence at a time**, you need to use a **loop** to keep replacing until there are none left.

> [!NOTE]
> ## INFODUMP:
> A `while` loop keeps running **as long as the condition is true**. This is useful when you don’t know how many times you need to loop.
> * When you don't know how many words you need to replace, you can use a `while` loop to repeatedly replace all occurrences of a word.

```javascript
function setup() {
  noCanvas();
  
  let story = "The cat sat on the cat by the cat.";
  
  // Replace all "cat" with "dog"
  while (story.includes("cat")) {
    story = story.replace("cat", "dog");
  }
  
  print(story); // "The dog sat on the dog by the dog."
}
```

---

## Step 3: Replacing Multiple Different Words

What if we want to replace **several words**?

We can use **an array** and a **for loop** to go through each word we want to replace.

```javascript
function setup() {
  noCanvas();
  
  let text = "The cat chased the rat, and the rat ran fast.";
  
  // Words to replace
  let badWords = ["cat", "rat"];
  let goodWords = ["dog", "hamster"];
  
  for (let i = 0; i < badWords.length; i++) {
    while (text.includes(badWords[i])) {
      text = text.replace(badWords[i], goodWords[i]);
    }
  }
  
  print(text); 
  // "The dog chased the hamster, and the hamster ran fast."
}
```
> [!NOTE]
> **Note:**
> We used a **for loop** to go through our bad word list, and a **while loop** to replace all occurrences of each one.
>    * These need to be parallel lists


## TL;DR

| Concept                    | Description                                                           |
| -------------------------- | --------------------------------------------------------------------- |
| **Immutable String**       | A string cannot be changed directly.  `.replace()` returns a new string. |
| **`.replace()`**           | Swaps the first matching substring.                                   |
| **`if()` + `.includes()`** | Use this to replace only if a word is present.                        |
| **`while()` Loop**         | Use to replace *every* instance of a word.                            |
| **Array + Loop**           | Use to replace *multiple different* words.                            |

