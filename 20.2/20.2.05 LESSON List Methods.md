# 20.2.05 Lesson: List Methods
```
20.2.05 Lesson: List Methods
```
> **Outcomes:**
> 
> * **1.3.2 Inserting, deleting and replacing data in the structure:** Using `.push()` to add items, `.pop()` or `.shift()` to remove from the ends, and `.splice()` to change items in the middle.
> * **1.3.3 Searching, finding and retrieving data from the structure:** Using `.indexOf()` to find a specific position and `.includes()` to check if a value is actually in the list.
> * **1.3.5 copying the structure**
> * **1.3.6 comparing two structures of the same type**



> [!NOTE]
>  ## After this lesson you will do 20.2.05 Practice: CT2 in D2L


**Things to focus on:**

* How to manipulate arrays
* learn what a **method** is
* How to use `.includes` and not `!` to control adding and removing items
* **Lists** (arrays) have **built-in methods**: functions that act directly on the array.
* These make adding, removing, and finding values much easier.

> [!NOTE]
> ## TL;DR: Common Array Methods 
> 
> A **method** is a special function that we can use to do something, such as add or remove items from an array
> | Method                     | What It Does                   |
> | -------------------------- | ------------------------------ |
> | `.push(value)`             | Add to **end** of array        |
> | `.pop()`                   | Remove **last** item           |
> | `.shift()`                 | Remove **first** item          |
> | `.splice(index, 0, value)` | Insert at a **specific index** |
> | `.splice(index, 1)`        | Remove at a **specific index** |
> | `.indexOf(value)`          | Find **index** of a value      |
> | `.includes(value)`         | Find if the list **has** a value   |

## Starter

```javascript
nums=[1,2,3,4,5,6,7,8,9]
letters=["a","b","c","d","e","f","g","h","i"]
colours=["red","green","yellow"]

function setup() {
  createCanvas(600, 400);
  textSize(22)
  textAlign(CENTER)
}

function draw() {
  background(220);
  display()

  for(let i=0;i<nums.length;i++){
    
  }//end for
  

  
}//end draw
///////////////
function howToPush(arr){
  
}//end howToPush

function howToPop(arr){
  
}//end howToPop

function howToShift(arr){
  
}//end howToShift

function howToSpliceAdd(arr){
  
}//end howToSpliceAdd

function howToSpliceRemove(arr){
  
}//end howToSpliceRemove


function display(){
  titles=["push","pop","shift","splice \nadd","splice \nremove"]

    for(let i=0;i<5;i++){
      let spacing= i*(width/5)
      text(titles[i],50+spacing,30)
      line( 0+spacing,height, 0+spacing,0    )
  }//end for
}//end display

```

## 1. `.push()`: Add to the End

`.push(value)` adds a new element to the **end** of an array.

```javascript
let colours = ['red', 'orange'];
colours.push('yellow'); // ['red', 'orange', 'yellow']

```

### Example: Using `.push()` in a Loop

```javascript
let nums = [1,2,3,4,5,6,7,8];


 for (let i = 0; i < 5; i++) {
   nums.push(9); // Add to end
 }//end for


```

> ### Checkpoints
> 
> 
> 1. What does `.push()` do?
> <details><summary>Answer</summary>It adds a new value to the end of the array.</details>
> 
> 

> 2. What happens if you push inside `draw()` without the control from question 2?
> <details><summary>Answer</summary>The array grows forever, new items get added every frame. Infinite money glitch... but in a bad way</details>
> 
> 

## Using `if()` to Control Adding or Removing

Sometimes, you don’t want to add or remove items every frame or click.
You can use `if()` statements with **`.includes()`** to control when `.push()` or `.pop()` runs

* for example, to prevent adding duplicates or only remove something if it’s in the array.

```javascript
let colors = [];

function mousePressed() {
 // Only add if "blue" is not already in the array
 if (!colors.includes("blue")) {
   colors.push("blue");
 }


 // Only remove if "blue" is in the array and canAdd is false
 if (colors.includes("blue")) {
   colors.pop();
 }
}

```

* if you want to add:
```javascript
if(!arr.includes(THINGY) ){
 arr.push(THINGY)
}

```


* if you want to remove

```javascript
  if(arr.includes(THINGY) ){
   arr.pop()
  }

```

> ### Checkpoints
> 
> 
> 1. Why use `if (!colors.includes("blue"))`?
> <details><summary>Answer</summary>It prevents adding "blue" more than once.</details>
> 
> 

> 2. What happens if we remove the `if (colors.includes("blue"))` check?
> <details><summary>Answer</summary>You might try to remove something that isn’t there.</details>
> 
> 

## 2. `.pop()`: Remove the Last Item

`.pop()` removes the **last element** and returns it.

```javascript
let colours = ['red', 'orange', 'yellow'];
let lastcolour = colours.pop(); // colours: ['red', 'orange'], lastcolour: 'yellow'

```

### Example

```javascript
function mousePressed() {
 if (colours.length > 0) {
   let colour = colours.pop();
   fill(colour);
   circle(mouseX, mouseY, 30);
 }
}

```

> ### Checkpoints
> 
> 
> 1. What does `.pop()` return?
> <details><summary>Answer</summary>The value that was removed from the end.</details>
> 
> 

> 2. What happens if you `.pop()` an empty array?
> <details><summary>Answer</summary>Nothing, it just returns `undefined`.</details>
> 
> 

> 3. What happens if you push the popped colour back in the example above?
> <details><summary>Answer</summary>The colours cycle endlessly!</details>
> 
> 

## 3. `.shift()`: Remove the First Item

`.shift()` removes the **first element** and returns it.

```javascript
let firstcolour = colours.shift(); // removes colours[0]

```

> ### Checkpoints
> 
> 
> 1. What happens to the array after `.shift()`?
> <details><summary>Answer</summary>The first item is gone; others move down.</details>
> 
> 

> 2. Is `.shift()` similar to `.pop()`?
> <details><summary>Answer</summary>Yes, but .pop() removes from the end, `.shift()` from the start.</details>
> 
> 

> 3. What happens if `.shift()` is called on an empty array?
> <details><summary>Answer</summary>Returns undefined  nothing to remove.</details>
> 
> 

## 4. `.indexOf(value)`: Find a Value’s Position

Returns the **index** of the first match or `-1` if not found.

```javascript
let idx = colours.indexOf('yellow'); // e.g., 2

```

> ### Checkpoints
> 
> 
> 1. What does `.indexOf('green')` return if ‘green’ isn’t there?
> <details><summary>Answer</summary>-1</details>
> 
> 

> 2. Why do we check `if (index !== -1)` before removing?
> <details><summary>Answer</summary>To avoid errors when the value doesn’t exist.</details>
> 
> 

> 3. What happens if multiple values match?
> <details><summary>Answer</summary> If your list has more than one thingy, .indexOf only finds the first example</details>
> 
> 

## 5. `.splice()`: Insert or Remove at a Specific Index

### Insert Example

```javascript
let colours = ['red', 'orange'];
colours.splice(1, 0, 'yellow'); // at index 1, delete 0, Insert 'yellow'
// ['red', 'yellow', 'orange']

```

### Remove Example

```javascript
let colours2 = ['red', 'orange', 'yellow', 'orange'];
let index = colours2.indexOf('orange'); // Find first 'orange'


if (index != -1) {//if it is found
 colours2.splice(index, 1); //at orange's index, delete it
}
// colours2 is now ['red', 'yellow', 'orange']

```

### Click to Remove

```javascript
let colours3 = ['red', 'orange', 'yellow', 'green', 'blue'];


function mousePressed() {
 if (colours3.length > 0) {// failsafe to not work on an empty list
      colours3.splice(0, 1); //at index 0, delete, add nothing
 }//end of if
}

```

> ### Checkpoints
> 
> 
> 1. What does the first number in `.splice()` mean?
> <details><summary>Answer</summary>The **index** where to start changing the array.</details>
> 
> 

> 2. What happens if you delete `if (colours3.length > 0)`?
> <details><summary>Answer</summary>You’ll try to remove from an empty array → error.</details>
> 
> 

> 3. What does `.splice(2, 1, 'pink')` do?
> <details><summary>Answer</summary>Removes 1 item at index 2, then inserts `&#39;pink&#39;` there.</details>
> 
> 

---

## 1.3.5 Copying the Structure

When you want to duplicate an array, you cannot just use `list2 = list1`. This only creates a "link"—if you change one, the other changes too! To make a real, separate copy, use the **spread operator** `[...]` or the **`.slice()`** method.

```javascript
let original = [10, 20, 30];

// The WRONG way (Links them together):
let badCopy = original; 

// The RIGHT way (Creates a new, separate list):
let goodCopy = [...original]; 
// OR
let goodCopy2 = original.slice();

```

> ### Checkpoints
> 
> 
> 1. If I use `list2 = list1` and then `list2.push(5)`, what happens to `list1`?
> <details><summary>Answer</summary>It also gets the number 5, because they are pointing to the same spot in memory.</details>
> 
> 

> 2. Which method returns a shallow copy of an array without changing the original?
> <details><summary>Answer</summary>`.slice()` (with no arguments).</details>
> 
> 

## 1.3.6 Comparing Two Structures of the Same Type

You cannot compare two arrays using `==`. Even if they look identical, JavaScript checks if they are the **exact same object in memory**, not if they contain the same values.

```javascript
let a = [1, 2];
let b = [1, 2];

console.log(a == b); // FALSE!

```

To compare them, you must check if they are the same **length** and then check if every **index** matches.

```javascript
function compareArrays(arr1, arr2) {
  if (arr1.length !== arr2.length) return false;
  
  for (let i = 0; i < arr1.length; i++) {
    if (arr1[i] !== arr2[i]) return false;
  }
  
  return true; // Everything matched!
}

```

> ### Checkpoints
> 
> 
> 1. Why does `[1,2] == [1,2]` return `false`?
> <details><summary>Answer</summary>Because they are two different "containers" in memory, even if the stuff inside is the same.</details>
> 
> 

> 2. What is the first thing you should check when comparing two arrays?
> <details><summary>Answer</summary>Check if their `.length` is the same.</details>
> 
> 
